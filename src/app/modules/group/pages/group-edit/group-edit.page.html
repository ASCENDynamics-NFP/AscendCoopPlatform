<!-- 
Nonprofit Social Networking Platform: Allowing Users and Organizations to Collaborate.
Copyright (C) 2023  ASCENDynamics NFP

This file is part of Nonprofit Social Networking Platform.

Nonprofit Social Networking Platform is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Nonprofit Social Networking Platform is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with Nonprofit Social Networking Platform.  If not, see <https://www.gnu.org/licenses/>.
-->
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Edit Group</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title size="large">Edit Group</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-content>
            <form [formGroup]="editGroupForm" (ngSubmit)="onSubmit()">
              <ion-grid>
                <ion-row>
                  <ion-col>
                    <ion-item>
                      <ion-label position="floating">Group Name</ion-label>
                      <ion-input
                        aria-label="Group Name"
                        formControlName="name"
                        type="text"
                      ></ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">Tagline</ion-label>
                      <ion-textarea
                        aria-label="Tagline"
                        formControlName="tagline"
                      ></ion-textarea>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">Description</ion-label>
                      <ion-textarea
                        aria-label="Description"
                        formControlName="description"
                      ></ion-textarea>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">Email</ion-label>
                      <ion-input
                        aria-label="Email"
                        [readonly]="false"
                        formControlName="email"
                        type="email"
                      ></ion-input>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating"
                        >Phone Country Code</ion-label
                      >
                      <ion-input
                        aria-label="Phone Country Code"
                        formControlName="phoneCountryCode"
                        pattern="^[0-9]*$"
                        inputmode="numeric"
                      ></ion-input>
                      <ion-note
                        *ngIf="editGroupForm.controls.phoneCountryCode.invalid && editGroupForm.controls.phoneCountryCode.touched"
                      >
                        Please enter a valid country code
                      </ion-note>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">Phone Number</ion-label>
                      <ion-input
                        aria-label="Phone Number"
                        formControlName="phoneNumber"
                        type="tel"
                        pattern="^\d{10}$"
                        inputmode="numeric"
                      ></ion-input>
                      <ion-note
                        *ngIf="editGroupForm.controls.phoneNumber.invalid && editGroupForm.controls.phoneNumber.touched"
                      >
                        Please enter a valid phone number
                      </ion-note>
                    </ion-item>

                    <ion-item>
                      <ion-label>Supported Languages</ion-label>
                      <ion-select
                        aria-label="Supported Languages"
                        formControlName="supportedlanguages"
                        multiple="true"
                      >
                        <ion-select-option value="en"
                          >English</ion-select-option
                        >
                        <ion-select-option value="es"
                          >Spanish</ion-select-option
                        >
                        <ion-select-option value="fr">French</ion-select-option>
                        <ion-select-option value="de">German</ion-select-option>
                        <!-- Add more languages as needed -->
                      </ion-select>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">Date Founded</ion-label>
                      <ion-datetime
                        aria-label="Date Founded"
                        formControlName="dateFounded"
                        displayFormat="MM/DD/YYYY"
                        presentation="date"
                        color="primary"
                        size="cover"
                      ></ion-datetime>
                    </ion-item>
                  </ion-col>
                  <ion-col>
                    <ion-item>
                      <ion-label position="floating">Street Address</ion-label>
                      <ion-input
                        aria-label="Street Address"
                        formControlName="addressStreet"
                        type="text"
                        pattern="^[a-zA-Z0-9\s,]*$"
                      ></ion-input>
                      <ion-note
                        *ngIf="editGroupForm.controls.addressStreet.invalid && editGroupForm.controls.addressStreet.touched"
                      >
                        Please enter a valid address
                      </ion-note>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">City</ion-label>
                      <ion-input
                        aria-label="City"
                        formControlName="addressCity"
                        type="text"
                        pattern="^[a-zA-Z\s]*$"
                      ></ion-input>
                      <ion-note
                        *ngIf="editGroupForm.controls.addressCity.invalid && editGroupForm.controls.addressCity.touched"
                      >
                        Please enter a valid city name
                      </ion-note>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">State</ion-label>
                      <ion-input
                        aria-label="State"
                        formControlName="addressState"
                        type="text"
                        pattern="^[a-zA-Z\s]*$"
                      ></ion-input>
                      <ion-note
                        *ngIf="editGroupForm.controls.addressState.invalid && editGroupForm.controls.addressState.touched"
                      >
                        Please enter a valid state name
                      </ion-note>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">Zip Code</ion-label>
                      <ion-input
                        aria-label="Zip Code"
                        formControlName="addressZipcode"
                        type="text"
                        pattern="^[0-9]*$"
                      ></ion-input>
                      <ion-note
                        *ngIf="editGroupForm.controls.addressZipcode.invalid && editGroupForm.controls.addressZipcode.touched"
                      >
                        Please enter a valid zip code
                      </ion-note>
                    </ion-item>

                    <ion-item>
                      <ion-label position="floating">Country</ion-label>
                      <ion-input
                        aria-label="Country"
                        formControlName="addressCountry"
                        type="text"
                        pattern="^[a-zA-Z\s]*$"
                      ></ion-input>
                      <ion-note
                        *ngIf="editGroupForm.controls.addressCountry.invalid && editGroupForm.controls.addressCountry.touched"
                      >
                        Please enter a valid country name
                      </ion-note>
                    </ion-item>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <ion-button
                      expand="block"
                      type="submit"
                      [disabled]="!editGroupForm.valid"
                      >Save Changes</ion-button
                    >
                  </ion-col>
                  <ion-col>
                    <ion-button
                      expand="block"
                      type="submit"
                      color="secondary"
                      (click)="toGroupPage()"
                      >Back To Group Page</ion-button
                    >
                  </ion-col>
                  <ion-col>
                    <ion-button
                      expand="block"
                      type="button"
                      color="warning"
                      (click)="deleteGroup()"
                      >Delete Group</ion-button
                    >
                  </ion-col>
                </ion-row>
              </ion-grid>
            </form>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
