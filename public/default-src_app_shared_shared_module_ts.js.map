{"version":3,"file":"default-src_app_shared_shared_module_ts.js","mappings":"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","sources":["./src/app/shared/components/app-header/app-header.component.ts","./src/app/shared/components/app-header/app-header.component.html","./src/app/shared/components/image-upload-modal/image-upload-modal.component.ts","./src/app/shared/components/image-upload-modal/image-upload-modal.component.html","./src/app/shared/components/user-menu/user-menu.component.ts","./src/app/shared/components/user-menu/user-menu.component.html","./src/app/shared/shared.module.ts"],"sourcesContent":["/***********************************************************************************************\n* Nonprofit Social Networking Platform: Allowing Users and Organizations to Collaborate.\n* Copyright (C) 2023  ASCENDynamics NFP\n*\n* This file is part of Nonprofit Social Networking Platform.\n*\n* Nonprofit Social Networking Platform is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as published\n* by the Free Software Foundation, either version 3 of the License, or\n* (at your option) any later version.\n\n* Nonprofit Social Networking Platform is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n\n* You should have received a copy of the GNU Affero General Public License\n* along with Nonprofit Social Networking Platform.  If not, see <https://www.gnu.org/licenses/>.\n***********************************************************************************************/\nimport {Component, Input} from \"@angular/core\";\nimport {PopoverController} from \"@ionic/angular\";\nimport {UserMenuComponent} from \"../user-menu/user-menu.component\";\nimport {Store} from \"@ngrx/store\";\nimport {selectAuthUser} from \"../../../state/selectors/auth.selectors\";\nimport {map, Observable} from \"rxjs\";\nimport {AuthUser} from \"../../../models/auth-user.model\";\n\n@Component({\n  selector: \"app-header\",\n  templateUrl: \"./app-header.component.html\",\n  styleUrls: [\"./app-header.component.scss\"],\n})\nexport class AppHeaderComponent {\n  @Input() title?: string = \"ASCENDynamics NFP\";\n  @Input() defaultHref?: string;\n  @Input() showLogo?: boolean = false;\n\n  authUser$: Observable<AuthUser | null>; // Declare type for clarity\n  public popoverEvent: any;\n\n  constructor(\n    private popoverController: PopoverController,\n    private store: Store,\n  ) {\n    // Initialize authUser$ after store is available\n    this.authUser$ = this.store.select(selectAuthUser);\n  }\n\n  get image() {\n    return this.authUser$?.pipe(map((user) => user?.iconImage));\n  }\n\n  async presentPopover(ev: any) {\n    this.popoverEvent = ev;\n    const popover = await this.popoverController.create({\n      component: UserMenuComponent,\n      componentProps: {\n        authUser$: this.authUser$, // Pass authUser$ as before\n      },\n      event: ev,\n      translucent: true,\n    });\n    return popover.present();\n  }\n\n  onPopoverDismiss(_event: any) {\n    // Handle popover dismiss if needed\n  }\n}\n","<!--\nNonprofit Social Networking Platform: Allowing Users and Organizations to Collaborate.\nCopyright (C) 2023  ASCENDynamics NFP\n\nThis file is part of Nonprofit Social Networking Platform.\n\nNonprofit Social Networking Platform is free software: you can redistribute it and/or modify\nit under the terms of the GNU Affero General Public License as published\nby the Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nNonprofit Social Networking Platform is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Affero General Public License for more details.\n\nYou should have received a copy of the GNU Affero General Public License\nalong with Nonprofit Social Networking Platform.  If not, see <https://www.gnu.org/licenses/>.\n-->\n<ion-toolbar>\n  <ion-buttons slot=\"start\" class=\"toolbar-buttons\">\n    <ion-menu-button color=\"primary\"></ion-menu-button>\n    <ion-back-button\n      *ngIf=\"defaultHref\"\n      color=\"primary\"\n      [defaultHref]=\"defaultHref\"\n    ></ion-back-button>\n  </ion-buttons>\n  <div class=\"toolbar-content\">\n    <img\n      *ngIf=\"showLogo\"\n      src=\"assets/icon/logo.png\"\n      alt=\"ASCENDynamics Logo\"\n      class=\"toolbar-logo\"\n    />\n    <ion-title class=\"header-title\" translate>{{ title }}</ion-title>\n  </div>\n  <ion-buttons slot=\"end\" class=\"toolbar-buttons\">\n    <ion-avatar\n      *ngIf=\"image && authUser$ | async as authUser; else notLoggedIn\"\n      class=\"padded-avatar\"\n      (click)=\"presentPopover($event)\"\n    >\n      <img [src]=\"image | async\" alt=\"User Avatar\" />\n    </ion-avatar>\n    <ng-template #notLoggedIn>\n      <ion-button routerLink=\"/auth/login\" color=\"primary\" fill=\"outline\">\n        Login\n      </ion-button>\n      <ion-button routerLink=\"/auth/signup\" color=\"primary\" fill=\"solid\">\n        Sign Up\n      </ion-button>\n    </ng-template>\n  </ion-buttons>\n</ion-toolbar>\n","/***********************************************************************************************\n* Nonprofit Social Networking Platform: Allowing Users and Organizations to Collaborate.\n* Copyright (C) 2023  ASCENDynamics NFP\n*\n* This file is part of Nonprofit Social Networking Platform.\n*\n* Nonprofit Social Networking Platform is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as published\n* by the Free Software Foundation, either version 3 of the License, or\n* (at your option) any later version.\n\n* Nonprofit Social Networking Platform is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n\n* You should have received a copy of the GNU Affero General Public License\n* along with Nonprofit Social Networking Platform.  If not, see <https://www.gnu.org/licenses/>.\n***********************************************************************************************/\nimport {Component, Input} from \"@angular/core\";\nimport {ModalController} from \"@ionic/angular\";\nimport {ImageUploadService} from \"../../../core/services/image-upload.service\";\nimport {DomSanitizer, SafeUrl} from \"@angular/platform-browser\";\n\n@Component({\n  selector: \"app-image-upload-modal\",\n  templateUrl: \"./image-upload-modal.component.html\",\n  styleUrls: [\"./image-upload-modal.component.scss\"],\n})\nexport class ImageUploadModalComponent {\n  @Input() collectionName!: string;\n  @Input() docId!: string;\n  @Input() firestoreLocation!: string; // e.g. 'users/userId/profileImage'\n  @Input() imageHeight!: number;\n  @Input() imageWidth!: number;\n  @Input() fieldName!: string;\n  imagePreview!: SafeUrl | string | ArrayBuffer;\n  selectedFile: File | null = null;\n\n  constructor(\n    private imageUploadService: ImageUploadService,\n    private modalCtrl: ModalController,\n    private sanitizer: DomSanitizer,\n  ) {}\n\n  get imagePreviewString(): string {\n    return this.imagePreview as string;\n  }\n\n  onImageSelected(event: any) {\n    const file: File = event.target.files[0];\n    this.selectedFile = file;\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      const unsafeImageUrl = reader.result as string;\n      this.imagePreview = this.sanitizer.bypassSecurityTrustUrl(unsafeImageUrl);\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  async uploadImage() {\n    try {\n      if (this.selectedFile) {\n        const downloadURL = await this.imageUploadService.uploadImage(\n          this.selectedFile,\n          this.firestoreLocation,\n          this.collectionName,\n          this.docId,\n          this.imageWidth,\n          this.imageHeight,\n          this.fieldName,\n        );\n        this.modalCtrl.dismiss(downloadURL);\n      } else {\n        console.error(\"No file selected for upload.\");\n      }\n    } catch (error) {\n      console.error(\"Error uploading image:\", error);\n    }\n  }\n\n  closeModal() {\n    this.modalCtrl.dismiss();\n  }\n}\n","<!--\nNonprofit Social Networking Platform: Allowing Users and Organizations to Collaborate.\nCopyright (C) 2023  ASCENDynamics NFP\n\nThis file is part of Nonprofit Social Networking Platform.\n\nNonprofit Social Networking Platform is free software: you can redistribute it and/or modify\nit under the terms of the GNU Affero General Public License as published\nby the Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nNonprofit Social Networking Platform is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Affero General Public License for more details.\n\nYou should have received a copy of the GNU Affero General Public License\nalong with Nonprofit Social Networking Platform.  If not, see <https://www.gnu.org/licenses/>.\n-->\n<ion-header>\n  <ion-toolbar>\n    <ion-title>Upload Image</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"closeModal()\">Close</ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-grid style=\"height: 100%\">\n    <ion-row class=\"ion-align-items-center\" style=\"flex: 1\">\n      <ion-col size=\"12\" class=\"ion-text-center\">\n        <ion-item>\n          <ion-label>Select Image</ion-label>\n          <ion-input type=\"file\" (change)=\"onImageSelected($event)\"></ion-input>\n        </ion-item>\n        <img\n          *ngIf=\"imagePreview\"\n          [src]=\"imagePreviewString\"\n          alt=\"Image Preview\"\n          style=\"max-width: 100%; max-height: 70vh\"\n        />\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-content>\n\n<ion-footer>\n  <ion-button expand=\"full\" (click)=\"uploadImage()\">Upload</ion-button>\n</ion-footer>\n","/***********************************************************************************************\n* Nonprofit Social Networking Platform: Allowing Users and Organizations to Collaborate.\n* Copyright (C) 2023  ASCENDynamics NFP\n*\n* This file is part of Nonprofit Social Networking Platform.\n*\n* Nonprofit Social Networking Platform is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as published\n* by the Free Software Foundation, either version 3 of the License, or\n* (at your option) any later version.\n\n* Nonprofit Social Networking Platform is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n\n* You should have received a copy of the GNU Affero General Public License\n* along with Nonprofit Social Networking Platform.  If not, see <https://www.gnu.org/licenses/>.\n***********************************************************************************************/\nimport {Component, Input} from \"@angular/core\";\nimport {Router} from \"@angular/router\";\nimport {PopoverController} from \"@ionic/angular\";\nimport {Store} from \"@ngrx/store\";\nimport * as AuthActions from \"../../../state/actions/auth.actions\";\nimport {firstValueFrom, Observable} from \"rxjs\";\nimport {AuthUser} from \"../../../models/auth-user.model\";\n\n@Component({\n  selector: \"app-user-menu\",\n  templateUrl: \"./user-menu.component.html\",\n  styleUrls: [\"./user-menu.component.scss\"],\n})\nexport class UserMenuComponent {\n  @Input() authUser$!: Observable<AuthUser | null>;\n\n  constructor(\n    private router: Router,\n    private popoverCtrl: PopoverController,\n    private store: Store,\n  ) {}\n\n  async logout() {\n    await this.popoverCtrl.dismiss(); // Await the popover dismissal\n    this.store.dispatch(AuthActions.signOut());\n  }\n\n  async goToProfile() {\n    try {\n      await this.popoverCtrl.dismiss();\n      const user = await firstValueFrom(this.authUser$);\n      if (user?.uid) {\n        this.router.navigate([`/account/${user.uid}`]);\n      }\n    } catch (error) {\n      console.error(\"Error navigating to profile:\", error);\n    }\n  }\n\n  async goToSettings() {\n    await this.popoverCtrl.dismiss(); // Await the popover dismissal\n    this.router.navigate([\"/account/settings\"]);\n  }\n}\n","<!--\nNonprofit Social Networking Platform: Allowing Users and Organizations to Collaborate.\nCopyright (C) 2023  ASCENDynamics NFP\n\nThis file is part of Nonprofit Social Networking Platform.\n\nNonprofit Social Networking Platform is free software: you can redistribute it and/or modify\nit under the terms of the GNU Affero General Public License as published\nby the Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nNonprofit Social Networking Platform is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Affero General Public License for more details.\n\nYou should have received a copy of the GNU Affero General Public License\nalong with Nonprofit Social Networking Platform.  If not, see <https://www.gnu.org/licenses/>.\n-->\n<ion-list>\n  <ion-item (click)=\"goToProfile()\">\n    <ion-label>Profile</ion-label>\n    <ion-icon\n      aria-hidden=\"true\"\n      slot=\"start\"\n      ios=\"person-outline\"\n      md=\"person-outline\"\n    ></ion-icon>\n  </ion-item>\n  <ion-item (click)=\"goToSettings()\">\n    <ion-label>Settings</ion-label>\n    <ion-icon\n      aria-hidden=\"true\"\n      slot=\"start\"\n      ios=\"settings-outline\"\n      md=\"settings-outline\"\n    ></ion-icon>\n  </ion-item>\n  <ion-item (click)=\"logout()\">\n    <ion-label>Logout</ion-label>\n    <ion-icon\n      aria-hidden=\"true\"\n      slot=\"start\"\n      ios=\"log-out-outline\"\n      md=\"log-out-outline\"\n    ></ion-icon>\n  </ion-item>\n</ion-list>\n","/***********************************************************************************************\n* Nonprofit Social Networking Platform: Allowing Users and Organizations to Collaborate.\n* Copyright (C) 2023  ASCENDynamics NFP\n*\n* This file is part of Nonprofit Social Networking Platform.\n*\n* Nonprofit Social Networking Platform is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as published\n* by the Free Software Foundation, either version 3 of the License, or\n* (at your option) any later version.\n\n* Nonprofit Social Networking Platform is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n\n* You should have received a copy of the GNU Affero General Public License\n* along with Nonprofit Social Networking Platform.  If not, see <https://www.gnu.org/licenses/>.\n***********************************************************************************************/\n// src/app/shared/shared.module.ts\n\nimport {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {RouterLink, RouterLinkActive} from \"@angular/router\";\nimport {IonicModule} from \"@ionic/angular\";\nimport {TranslateModule} from \"@ngx-translate/core\";\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\nimport {CreateGroupModalComponent} from \"../modules/account/components/create-group-modal/create-group-modal.component\";\nimport {AppHeaderComponent} from \"./components/app-header/app-header.component\";\nimport {FeedbackModalComponent} from \"./components/feedback-modal/feedback-modal.component\";\nimport {UserMenuComponent} from \"./components/user-menu/user-menu.component\";\nimport {ImageUploadModalComponent} from \"./components/image-upload-modal/image-upload-modal.component\";\n\n@NgModule({\n  declarations: [\n    AppHeaderComponent,\n    CreateGroupModalComponent,\n    FeedbackModalComponent,\n    ImageUploadModalComponent,\n    UserMenuComponent,\n  ],\n  imports: [\n    IonicModule,\n    RouterLink,\n    RouterLinkActive,\n    CommonModule,\n    TranslateModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  exports: [\n    AppHeaderComponent,\n    CreateGroupModalComponent,\n    FeedbackModalComponent,\n    ImageUploadModalComponent,\n    UserMenuComponent,\n  ],\n})\nexport class SharedModule {}\n"],"names":["UserMenuComponent","selectAuthUser","map","i0","ɵɵelement","ɵɵproperty","ctx_r0","defaultHref","ɵɵelementStart","ɵɵlistener","AppHeaderComponent_ion_avatar_9_Template_ion_avatar_click_0_listener","$event","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","presentPopover","ɵɵelementEnd","ɵɵadvance","ɵɵpipeBind1","image","ɵɵsanitizeUrl","ɵɵtext","AppHeaderComponent","constructor","popoverController","store","title","showLogo","authUser$","select","_this$authUser$","pipe","user","iconImage","ev","_this","_asyncToGenerator","popoverEvent","popover","create","component","componentProps","event","translucent","present","onPopoverDismiss","_event","ɵɵdirectiveInject","i1","PopoverController","i2","Store","selectors","inputs","decls","vars","consts","template","AppHeaderComponent_Template","rf","ctx","ɵɵtemplate","AppHeaderComponent_ion_back_button_3_Template","AppHeaderComponent_img_5_Template","AppHeaderComponent_ion_avatar_9_Template","AppHeaderComponent_ng_template_11_Template","ɵɵtemplateRefExtractor","ɵɵtextInterpolate","notLoggedIn_r3","imagePreviewString","ImageUploadModalComponent","imageUploadService","modalCtrl","sanitizer","selectedFile","imagePreview","onImageSelected","file","target","files","reader","FileReader","onload","unsafeImageUrl","result","bypassSecurityTrustUrl","readAsDataURL","uploadImage","downloadURL","firestoreLocation","collectionName","docId","imageWidth","imageHeight","fieldName","dismiss","console","error","closeModal","ImageUploadService","ModalController","i3","DomSanitizer","ImageUploadModalComponent_Template","ImageUploadModalComponent_Template_ion_button_click_5_listener","ImageUploadModalComponent_Template_ion_input_change_14_listener","ImageUploadModalComponent_img_15_Template","ImageUploadModalComponent_Template_ion_button_click_17_listener","AuthActions","firstValueFrom","router","popoverCtrl","logout","dispatch","signOut","goToProfile","_this2","uid","navigate","goToSettings","_this3","Router","UserMenuComponent_Template","UserMenuComponent_Template_ion_item_click_1_listener","UserMenuComponent_Template_ion_item_click_5_listener","UserMenuComponent_Template_ion_item_click_9_listener","CommonModule","RouterLink","RouterLinkActive","IonicModule","TranslateModule","FormsModule","ReactiveFormsModule","CreateGroupModalComponent","FeedbackModalComponent","SharedModule","declarations","imports","exports"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}